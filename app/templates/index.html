<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kagenta API | The Nexus</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <style>
        :root {
            --bg-color: #000000;
            --card-bg: rgba(255, 255, 255, 0.02);
            --border-color: rgba(255, 255, 255, 0.08);
            --active-border: rgba(255, 255, 255, 0.2);
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: #e5e5e5;
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(76, 29, 149, 0.08), transparent 25%), 
                radial-gradient(circle at 85% 30%, rgba(20, 184, 166, 0.08), transparent 25%);
            scroll-behavior: smooth;
        }
        .glass {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .glass:hover {
            border-color: var(--active-border);
            transform: translateY(-2px);
            box-shadow: 0 20px 40px -10px rgba(0,0,0,0.5);
        }
        .section-title {
            position: relative;
            padding-left: 1rem;
        }
        .section-title::before {
            content: '';
            position: absolute;
            left: 0;
            top: 10%;
            bottom: 10%;
            width: 3px;
            background: white;
            border-radius: 4px;
        }
        /* Terminal Output */
        .terminal {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            background: #0a0a0a;
            border: 1px solid #222;
        }
        input, select {
            background: #0a0a0a;
            border: 1px solid #222;
            color: white;
            transition: 0.2s;
        }
        input:focus, select:focus {
            outline: none;
            border-color: #666;
        }
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
    </style>
    <script>
        tailwind.config = { darkMode: 'class', theme: { extend: { colors: { border: 'rgba(255,255,255,0.1)' } } } }
    </script>
</head>
<body class="min-h-screen">

    <div class="max-w-7xl mx-auto px-6 py-12">
        
        <!-- HERO HEADER -->
        <header class="text-center mb-24 space-y-4">
            <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/5 border border-white/10 text-xs font-mono text-gray-400 mb-4 hover:bg-white/10 transition-colors cursor-pointer">
                <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                v3.0.0-HYDRA
            </div>
            <h1 class="text-6xl md:text-8xl font-bold tracking-tighter text-white">
                Kagenta<span class="text-gray-600">API</span>
            </h1>
            <p class="text-lg text-gray-500 max-w-2xl mx-auto font-light">
                Professional AI Infrastructure & Media Processing.
            </p>
            <div class="pt-8 relative max-w-lg mx-auto">
                <input type="text" id="searchBar" placeholder="Search endpoints (e.g. gpt, tiktok)..." class="w-full px-6 py-4 rounded-2xl bg-white/5 border border-white/10 focus:bg-white/10 focus:border-white/30 text-center placeholder-gray-600 outline-none transition-all text-sm font-mono backdrop-blur-md">
                <div class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-700 text-xs border border-white/10 px-2 py-1 rounded hidden md:block">/</div>
            </div>
        </header>

        <!-- NAVIGATION PILLS -->
        <nav class="flex flex-wrap justify-center gap-2 mb-16" id="nav-pills">
            <!-- Pilled injected by JS -->
        </nav>

        <!-- MAIN CONTAINER -->
        <div id="main-container" class="space-y-24">
            <!-- Categories injected by JS -->
        </div>

        <footer class="mt-32 border-t border-white/10 pt-12 pb-12 text-center text-gray-600 text-sm">
            <p>&copy; 2026 David AI Studio. Engineered for Speed.</p>
        </footer>
    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // === DATABASE OF ENDPOINTS ===
        // Categories: "Native AI", "AI Chat", "AI Image", "Downloader", "Search Engine", "Image Maker", "Random"
        const endpoints = [
            // --- NATIVE AI (PREMIUM FREE) ---
            { cat: 'Native AI', method: 'GET', path: '/native/chat', desc: 'Native GPT-4o (No Key)', params: [{n:'message', r:true}, {n:'model', d:'gpt-4o'}] },
            { cat: 'Native AI', method: 'GET', path: '/native/chat/stream', desc: 'Native Stream', params: [{n:'message', r:true}, {n:'model', d:'claude-3'}] },
            { cat: 'Native AI', method: 'GET', path: '/native/image', desc: 'Native Flux Gen', params: [{n:'prompt', r:true}, {n:'model', d:'flux'}] },

            // --- AI CHAT ---
            { cat: 'AI Chat', method: 'GET', path: '/ai/gpt', desc: 'GPT-4o', params: [{n:'question', r:true}, {n:'prompt', d:'You are helpful'}] },
            { cat: 'AI Chat', method: 'GET', path: '/ai/gemini', desc: 'Google Gemini', params: [{n:'text', r:true}, {n:'id'}] },
            { cat: 'AI Chat', method: 'GET', path: '/ai/copilot', desc: 'MS Copilot', params: [{n:'message', r:true}, {n:'model', d:'default'}] },
            { cat: 'AI Chat', method: 'GET', path: '/ai/felo', desc: 'Felo Search AI', params: [{n:'query', r:true}] },
            { cat: 'AI Chat', method: 'GET', path: '/ai/jeeves', desc: 'Jeeves AI', params: [{n:'prompt', r:true}] },
            { cat: 'AI Chat', method: 'GET', path: '/ai/writecream', desc: 'Writecream', params: [{n:'question', r:true}, {n:'logic', d:'general'}] },
            { cat: 'AI Chat', method: 'GET', path: '/ai/lyrics', desc: 'Lyrics Generator', params: [{n:'prompt', r:true}] },
            { cat: 'AI Chat', method: 'GET', path: '/ai/story', desc: 'Story Generator', params: [{n:'text', r:true}, {n:'mode', d:'creative'}] },

            // --- AI IMAGE ---
            { cat: 'AI Image', method: 'GET', path: '/ai/flux', desc: 'Flux Generation', params: [{n:'prompt', r:true}] },
            { cat: 'AI Image', method: 'GET', path: '/maker/magic-studio', desc: 'Magic Studio', params: [{n:'prompt', r:true}] },
            { cat: 'AI Image', method: 'POST', path: '/ai/nano-banana', desc: 'Nano Banana (Edit)', params: [{n:'image', t:'file'}, {n:'prompt'}] },

            // --- DOWNLOADER ---
            { cat: 'Downloader', method: 'GET', path: '/downloader/tiktok', desc: 'TikTok No WM', params: [{n:'url', r:true}] },
            { cat: 'Downloader', method: 'GET', path: '/downloader/instagram', desc: 'Instagram DL', params: [{n:'url', r:true}] },
            { cat: 'Downloader', method: 'GET', path: '/downloader/spotify', desc: 'Spotify DL', params: [{n:'url', r:true}] },
            { cat: 'Downloader', method: 'GET', path: '/downloader/soundcloud', desc: 'SoundCloud DL', params: [{n:'url', r:true}] },
            { cat: 'Downloader', method: 'GET', path: '/downloader/twitter', desc: 'X / Twitter DL', params: [{n:'url', r:true}] },
            { cat: 'Downloader', method: 'GET', path: '/downloader/threads', desc: 'Threads DL', params: [{n:'url', r:true}] },
            { cat: 'Downloader', method: 'GET', path: '/downloader/ytmp3', desc: 'YouTube MP3', params: [{n:'url', r:true}] },
            { cat: 'Downloader', method: 'GET', path: '/downloader/ytmp4', desc: 'YouTube MP4', params: [{n:'url', r:true}, {n:'resolution', d:'720'}] },
            { cat: 'Downloader', method: 'GET', path: '/downloader/webmusic', desc: 'WebMusic DL', params: [{n:'url', r:true}] },
            { cat: 'Downloader', method: 'GET', path: '/downloader/npm', desc: 'NPM Package', params: [{n:'query', r:true}] },

            // --- SEARCH ---
            { cat: 'Search Engine', method: 'GET', path: '/search/google-image', desc: 'Google Images', params: [{n:'query', r:true}] },
            { cat: 'Search Engine', method: 'GET', path: '/search/pinterest', desc: 'Pinterest', params: [{n:'query', r:true}] },
            { cat: 'Search Engine', method: 'GET', path: '/search/gsmarena', desc: 'GSM Arena', params: [{n:'query', r:true}] },
            { cat: 'Search Engine', method: 'GET', path: '/search/spotify', desc: 'Spotify Search', params: [{n:'query', r:true}] },
            { cat: 'Search Engine', method: 'GET', path: '/search/youtube', desc: 'YouTube Search', params: [{n:'query', r:true}] },
            { cat: 'Search Engine', method: 'GET', path: '/search/play-youtube', desc: 'Play YouTube', params: [{n:'query', r:true}] },
            { cat: 'Search Engine', method: 'GET', path: '/search/tiktok', desc: 'TikTok Search', params: [{n:'query', r:true}] },
            { cat: 'Search Engine', method: 'GET', path: '/search/wikipedia', desc: 'Wikipedia', params: [{n:'query', r:true}] },
            { cat: 'Search Engine', method: 'GET', path: '/search/apple-music', desc: 'Apple Music', params: [{n:'keyword', r:true}] },

            // --- MAKER ---
            { cat: 'Image Maker', method: 'GET', path: '/maker/brat', desc: 'Brat Text', params: [{n:'text', r:true}] },
            { cat: 'Image Maker', method: 'GET', path: '/maker/brat-video', desc: 'Brat Video', params: [{n:'text', r:true}] },
            { cat: 'Image Maker', method: 'GET', path: '/maker/fake-iphone-chat', desc: 'iMessage', params: [{n:'text'}, {n:'chatime'}, {n:'statusbartime'}] },
            { cat: 'Image Maker', method: 'GET', path: '/maker/fake-call', desc: 'Fake Call', params: [{n:'nama'}, {n:'durasi'}, {n:'avatar'}] },
            { cat: 'Image Maker', method: 'GET', path: '/maker/fake-story', desc: 'IG Story V1', params: [{n:'username'}, {n:'caption'}, {n:'ppurl'}] },
            { cat: 'Image Maker', method: 'GET', path: '/maker/fake-tweet', desc: 'Fake Tweet', params: [{n:'username'}, {n:'tweet'}, {n:'name'}] },
            { cat: 'Image Maker', method: 'GET', path: '/maker/meme', desc: 'Meme Gen', params: [{n:'imageUrl'}, {n:'topText'}, {n:'bottomText'}] },
            { cat: 'Image Maker', method: 'GET', path: '/maker/carbon', desc: 'Carbon Code', params: [{n:'input'}, {n:'title'}] },
            { cat: 'Image Maker', method: 'GET', path: '/maker/ttp', desc: 'Text to Picture', params: [{n:'text'}] },
            { cat: 'Image Maker', method: 'POST', path: '/maker/fake-ml', desc: 'Fake ML Lobby', params: [{n:'image', t:'file'}, {n:'username'}] },
            { cat: 'Image Maker', method: 'POST', path: '/maker/fake-story-v2', desc: 'IG Story V2', params: [{n:'profile_image', t:'file'}, {n:'content_image', t:'file'}, {n:'name'}] },
            { cat: 'Image Maker', method: 'POST', path: '/maker/mpls-twibbon', desc: 'Twibbon MPLS', params: [{n:'file', t:'file'}] },
            { cat: 'Image Maker', method: 'POST', path: '/maker/jmk48-twibbon', desc: 'Twibbon JMK48', params: [{n:'file', t:'file'}] },

            // --- RANDOM ---
            { cat: 'Random', method: 'GET', path: '/random/indonesia', desc: 'Cecan Indo', params: [] },
            { cat: 'Random', method: 'GET', path: '/random/china', desc: 'Cecan China', params: [] },
            { cat: 'Random', method: 'GET', path: '/random/jepang', desc: 'Cecan Japan', params: [] },
            { cat: 'Random', method: 'GET', path: '/random/blue-archive', desc: 'Blue Archive', params: [] },

            // --- ISLAMIC ---
            { cat: 'Islamic', method: 'GET', path: '/islamic/adzan', desc: 'Jadwal Adzan', params: [{n:'kota', r:true}] },
            { cat: 'Islamic', method: 'GET', path: '/islamic/kisahnabi', desc: 'Kisah Nabi', params: [{n:'name', r:true}] },
            { cat: 'Islamic', method: 'GET', path: '/islamic/jadwalsholat', desc: 'Jadwal Sholat', params: [{n:'kota', r:true}] },
            { cat: 'Islamic', method: 'GET', path: '/islamic/quran', desc: 'Ayat Al-Quran', params: [{n:'surah', r:true}, {n:'ayat', r:true}] },
            { cat: 'Islamic', method: 'GET', path: '/islamic/hadits', desc: 'Cari Hadits', params: [{n:'kitab', r:true}, {n:'nomor', r:true}] },

            // --- INFORMATION ---
            { cat: 'Information', method: 'GET', path: '/information/gempa', desc: 'Info Gempa', params: [] },
            { cat: 'Information', method: 'GET', path: '/information/cuaca', desc: 'Info Cuaca', params: [{n:'kota', r:true}] },
            { cat: 'Information', method: 'GET', path: '/information/liputan6', desc: 'Berita Liputan6', params: [] },
            { cat: 'Information', method: 'GET', path: '/information/kompas', desc: 'Berita Kompas', params: [] },

            // --- GAME ---
            { cat: 'Game', method: 'GET', path: '/game/tebakgambar', desc: 'Tebak Gambar', params: [] },
            { cat: 'Game', method: 'GET', path: '/game/caklontong', desc: 'Cak Lontong', params: [] },
            { cat: 'Game', method: 'GET', path: '/game/tebaklagu', desc: 'Tebak Lagu', params: [] }
        ];

        // === RENDER ENGINE ===
        const orderedCategories = ["Native AI", "AI Chat", "AI Image", "Downloader", "Search Engine", "Image Maker", "Random", "Islamic", "Information", "Game"];

        function renderPage(filter = "") {
            const container = document.getElementById('main-container');
            const nav = document.getElementById('nav-pills');
            
            container.innerHTML = "";
            if (!filter) nav.innerHTML = ""; // Only reset nav if not filtering

            // Prepare categories
            const catsToRender = orderedCategories.filter(cat => {
                // If filtering, check if any item in this cat matches
                if (!filter) return true;
                return endpoints.some(e => e.cat === cat && (e.path.toLowerCase().includes(filter) || e.desc.toLowerCase().includes(filter)));
            });

            if (catsToRender.length === 0) {
                container.innerHTML = `<div class="text-center text-gray-600 py-20">No endpoints found for "${filter}"</div>`;
                return;
            }

            catsToRender.forEach(cat => {
                // 1. Add Nav Pill (only on initial load)
                if (!filter) {
                    const pill = document.createElement('a');
                    pill.href = `#cat-${cat.replace(/\s+/g, '-')}`;
                    pill.className = "px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-sm text-gray-400 hover:text-white hover:bg-white/10 transition-colors";
                    pill.innerText = cat;
                    nav.appendChild(pill);
                }

                // 2. Create Section
                const section = document.createElement('section');
                section.id = `cat-${cat.replace(/\s+/g, '-')}`;
                section.innerHTML = `
                    <h2 class="text-2xl font-bold mb-8 text-white flex items-center gap-3 section-title">
                        ${cat}
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="grid-${cat}"></div>
                `;
                container.appendChild(section);

                // 3. Render Cards in this section
                const grid = section.querySelector('div');
                const catEndpoints = endpoints.filter(e => e.cat === cat);

                catEndpoints.forEach((ep, index) => {
                    // Filter check again for individual cards
                    if (filter && !ep.path.toLowerCase().includes(filter) && !ep.desc.toLowerCase().includes(filter)) return;

                    const uniqueId = `ep-${cat.replace(/\s/g,'')}-${index}`;
                    let inputsHtml = "";
                    
                    ep.params.forEach(p => {
                        if (p.t === 'file') {
                            inputsHtml += `<input type="file" id="${uniqueId}-${p.n}" class="w-full text-xs p-2 rounded mb-3 bg-black/50 border border-white/10 text-gray-400 file:mr-4 file:py-1 file:px-2 file:rounded-md file:border-0 file:text-xs file:bg-white/10 file:text-white hover:file:bg-white/20 transition-all">`;
                        } else {
                            inputsHtml += `<input type="text" id="${uniqueId}-${p.n}" placeholder="${p.n}${p.r ? '*' : ''}" class="w-full text-sm px-4 py-2.5 rounded-xl bg-black/50 border border-white/10 mb-3 focus:border-white/30 focus:bg-black/80 transition-all">`;
                        }
                    });

                    const badgeColor = ep.method === 'GET' ? 'text-green-400 bg-green-400/10 border-green-400/20' : 'text-yellow-400 bg-yellow-400/10 border-yellow-400/20';
                    const fullUrl = `https://api.kagenta.biz.id${ep.path}`;

                    const card = document.createElement('div');
                    card.className = "glass rounded-3xl p-6 flex flex-col h-full relative group";
                    card.innerHTML = `
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="font-bold text-lg text-white group-hover:text-gray-200 transition-colors">${ep.desc}</h3>
                            <span class="px-2 py-1 rounded-md text-[10px] font-bold tracking-wider border ${badgeColor}">${ep.method}</span>
                        </div>
                        
                        <div class="relative group/url mb-6">
                            <code class="text-[10px] text-gray-500 font-mono block bg-black/30 p-2 rounded-lg break-all pr-8 cursor-pointer hover:text-gray-300 transition-colors" onclick="navigator.clipboard.writeText('${fullUrl}'); this.classList.add('text-green-400'); setTimeout(()=>this.classList.remove('text-green-400'), 500)">${fullUrl}</code>
                            <div class="absolute right-2 top-1/2 -translate-y-1/2 text-gray-600 opacity-0 group-hover/url:opacity-100 transition-opacity pointer-events-none">
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                            </div>
                        </div>
                        
                        <div class="flex-grow space-y-1">
                            ${inputsHtml}
                        </div>

                        <div class="mt-6">
                            <button onclick="executeAPI('${uniqueId}', '${ep.path}', '${ep.method}')" class="w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-gray-200 transition-all text-sm shadow-[0_0_20px_-5px_rgba(255,255,255,0.3)]">
                                EXECUTE
                            </button>
                        </div>

                        <div id="${uniqueId}-result" class="mt-4 hidden transition-all">
                            <div class="terminal rounded-xl overflow-hidden shadow-2xl">
                                <div class="bg-[#151515] px-4 py-2 text-[10px] text-gray-500 border-b border-[#222] flex justify-between items-center">
                                    <span>STATUS: <span id="${uniqueId}-status" class="text-yellow-500">PENDING</span></span>
                                    <span id="${uniqueId}-time">0ms</span>
                                </div>
                                <pre class="p-4 overflow-auto max-h-60 scrollbar-hide"><code id="${uniqueId}-code" class="language-json text-xs"></code></pre>
                            </div>
                        </div>
                    `;
                    grid.appendChild(card);
                });
            });
        }

        // === EXECUTION ENGINE ===
        async function executeAPI(id, path, method) {
            const btn = document.querySelector(`button[onclick*="'${id}'"]`);
            const resDiv = document.getElementById(`${id}-result`);
            const codeBlock = document.getElementById(`${id}-code`);
            const timeLabel = document.getElementById(`${id}-time`);
            const statusLabel = document.getElementById(`${id}-status`);

            // UI State Loading
            const originalText = btn.innerText;
            btn.innerText = "PROCESSING...";
            btn.disabled = true;
            btn.classList.add("opacity-50", "cursor-not-allowed");
            resDiv.classList.remove('hidden');
            codeBlock.innerHTML = '<span class="animate-pulse">Connecting to neural network...</span>';
            statusLabel.innerText = "SENDING";
            statusLabel.className = "text-yellow-500";

            const startTime = performance.now();

            try {
                // Find params for this card
                // We reverse engineer parameters by looking for inputs starting with ID
                const inputs = document.querySelectorAll(`[id^="${id}-"]`);
                let url = window.location.origin + path;
                let options = { method: method };

                if (method === 'GET') {
                    const params = new URLSearchParams();
                    inputs.forEach(input => {
                        const paramName = input.id.split('-').pop();
                        if (input.value) params.append(paramName, input.value);
                    });
                    url += "?" + params.toString();
                } else {
                    const formData = new FormData();
                    inputs.forEach(input => {
                        const paramName = input.id.split('-').pop();
                        if (input.type === 'file') {
                            if (input.files[0]) formData.append(paramName, input.files[0]);
                        } else {
                            if (input.value) formData.append(paramName, input.value);
                        }
                    });
                    options.body = formData;
                }

                const res = await fetch(url, options);
                const contentType = res.headers.get("content-type");
                const endTime = performance.now();
                timeLabel.innerText = `${(endTime - startTime).toFixed(0)}ms`;

                statusLabel.innerText = res.status + " " + res.statusText;
                statusLabel.className = res.ok ? "text-green-500" : "text-red-500";

                if (contentType && contentType.includes("application/json")) {
                    const json = await res.json();
                    codeBlock.innerHTML = JSON.stringify(json, null, 2);
                    hljs.highlightElement(codeBlock);
                } else {
                    // Handle Binary/Image
                    const blob = await res.blob();
                    const imgUrl = URL.createObjectURL(blob);
                    codeBlock.innerHTML = `
                        <div class="flex flex-col gap-2 items-center">
                            <img src="${imgUrl}" class="rounded-lg border border-gray-700 max-h-48 object-contain">
                            <a href="${imgUrl}" download="result" class="text-blue-400 hover:text-white text-xs underline">Download Result</a>
                        </div>`;
                }

            } catch (err) {
                codeBlock.innerText = "Error: " + err.message;
                statusLabel.innerText = "ERROR";
                statusLabel.className = "text-red-500";
            } finally {
                btn.innerText = originalText;
                btn.disabled = false;
                btn.classList.remove("opacity-50", "cursor-not-allowed");
            }
        }

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            renderPage();
            document.getElementById('searchBar').addEventListener('input', (e) => {
                renderPage(e.target.value.toLowerCase());
            });
            // Keyboard shortcut
            document.addEventListener('keydown', (e) => {
                if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
                    e.preventDefault();
                    document.getElementById('searchBar').focus();
                }
            });
        });
    </script>
</body>
</html>