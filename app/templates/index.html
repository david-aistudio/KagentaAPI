<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kagenta API | The Nexus</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <style>
        :root {
            --bg-color: #000000;
            --card-bg: rgba(255, 255, 255, 0.02);
            --border-color: rgba(255, 255, 255, 0.08);
            --active-border: rgba(255, 255, 255, 0.2);
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: #e5e5e5;
            background-image: radial-gradient(circle at 50% 0%, #111 0%, #000 50%);
        }
        .glass {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .glass:hover {
            border-color: var(--active-border);
            transform: translateY(-2px);
            box-shadow: 0 20px 40px -10px rgba(0,0,0,0.5);
        }
        .method-get { color: #4ade80; background: rgba(74, 222, 128, 0.1); }
        .method-post { color: #facc15; background: rgba(250, 204, 21, 0.1); }
        
        /* Terminal Output */
        .terminal {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            background: #0a0a0a;
            border: 1px solid #222;
        }
        input, select {
            background: #0a0a0a;
            border: 1px solid #222;
            color: white;
            transition: 0.2s;
        }
        input:focus, select:focus {
            outline: none;
            border-color: #444;
        }
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
    </style>
    <script>
        tailwind.config = { darkMode: 'class', theme: { extend: { colors: { border: 'rgba(255,255,255,0.1)' } } } }
    </script>
</head>
<body class="min-h-screen">

    <div class="max-w-7xl mx-auto px-6 py-12">
        
        <!-- HERO HEADER -->
        <header class="text-center mb-20 space-y-4">
            <div class="inline-block px-3 py-1 rounded-full bg-white/5 border border-white/10 text-xs font-mono text-gray-400 mb-4">
                v3.0.0-HYDRA
            </div>
            <h1 class="text-5xl md:text-7xl font-bold tracking-tighter text-transparent bg-clip-text bg-gradient-to-b from-white to-gray-600">
                Kagenta API
            </h1>
            <p class="text-lg text-gray-500 max-w-2xl mx-auto">
                The Nexus of Intelligence. Professional AI, Media, and Data processing infrastructure.
            </p>
            <div class="pt-6 relative max-w-md mx-auto">
                <input type="text" id="searchBar" placeholder="Search 50+ endpoints..." class="w-full px-6 py-4 rounded-full bg-white/5 border border-white/10 focus:bg-white/10 focus:border-white/20 text-center placeholder-gray-600 outline-none transition-all">
                <div class="absolute right-6 top-10 text-gray-600 pointer-events-none">âŒ˜K</div>
            </div>
        </header>

        <!-- CONTENT GRID -->
        <div id="api-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Cards will be injected here by JS -->
        </div>

        <footer class="mt-32 text-center text-gray-700 text-sm pb-10">
            <p>&copy; 2026 David AI Studio. Powered by Zenzxz Engine.</p>
        </footer>
    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // === DATABASE OF ENDPOINTS ===
        const endpoints = [
            // --- AI ---
            { cat: 'AI', method: 'GET', path: '/ai/gpt', desc: 'OpenAI GPT-4o Chat', params: [{n:'question', r:true}, {n:'prompt', d:'You are helpful'}] },
            { cat: 'AI', method: 'GET', path: '/ai/gemini', desc: 'Google Gemini Pro', params: [{n:'text', r:true}, {n:'id'}] },
            { cat: 'AI', method: 'GET', path: '/ai/copilot', desc: 'Microsoft Copilot', params: [{n:'message', r:true}, {n:'model', d:'default'}] },
            { cat: 'AI', method: 'GET', path: '/ai/flux', desc: 'Flux Image Generation', params: [{n:'prompt', r:true}] },
            { cat: 'AI', method: 'GET', path: '/ai/felo', desc: 'Felo AI Search', params: [{n:'query', r:true}] },
            { cat: 'AI', method: 'GET', path: '/ai/jeeves', desc: 'Jeeves AI', params: [{n:'prompt', r:true}] },
            { cat: 'AI', method: 'GET', path: '/ai/writecream', desc: 'Writecream Logic', params: [{n:'question', r:true}, {n:'logic', d:'general'}] },
            { cat: 'AI', method: 'GET', path: '/ai/lyrics', desc: 'Song Lyrics Gen', params: [{n:'prompt', r:true}] },
            { cat: 'AI', method: 'GET', path: '/ai/story', desc: 'Story Generator', params: [{n:'text', r:true}, {n:'mode', d:'creative'}] },
            { cat: 'AI', method: 'POST', path: '/ai/nano-banana', desc: 'Img2Img Editing', params: [{n:'image', t:'file'}, {n:'prompt'}] },

            // --- DOWNLOADER ---
            { cat: 'DL', method: 'GET', path: '/downloader/tiktok', desc: 'TikTok/Douyin No WM', params: [{n:'url', r:true}] },
            { cat: 'DL', method: 'GET', path: '/downloader/instagram', desc: 'Instagram Reels/Post', params: [{n:'url', r:true}] },
            { cat: 'DL', method: 'GET', path: '/downloader/spotify', desc: 'Spotify Downloader', params: [{n:'url', r:true}] },
            { cat: 'DL', method: 'GET', path: '/downloader/soundcloud', desc: 'SoundCloud MP3', params: [{n:'url', r:true}] },
            { cat: 'DL', method: 'GET', path: '/downloader/twitter', desc: 'X/Twitter Media', params: [{n:'url', r:true}] },
            { cat: 'DL', method: 'GET', path: '/downloader/ytmp3', desc: 'YouTube Audio', params: [{n:'url', r:true}] },
            { cat: 'DL', method: 'GET', path: '/downloader/ytmp4', desc: 'YouTube Video', params: [{n:'url', r:true}, {n:'resolution', d:'720'}] },
            { cat: 'DL', method: 'GET', path: '/downloader/threads', desc: 'Threads Media', params: [{n:'url', r:true}] },
            { cat: 'DL', method: 'GET', path: '/downloader/npm', desc: 'NPM Package DL', params: [{n:'query', r:true}] },

            // --- SEARCH ---
            { cat: 'Search', method: 'GET', path: '/search/google-image', desc: 'Google Images', params: [{n:'query', r:true}] },
            { cat: 'Search', method: 'GET', path: '/search/pinterest', desc: 'Pinterest', params: [{n:'query', r:true}] },
            { cat: 'Search', method: 'GET', path: '/search/gsmarena', desc: 'Phone Specs', params: [{n:'query', r:true}] },
            { cat: 'Search', method: 'GET', path: '/search/spotify', desc: 'Spotify Search', params: [{n:'query', r:true}] },
            { cat: 'Search', method: 'GET', path: '/search/youtube', desc: 'YouTube Search', params: [{n:'query', r:true}] },
            { cat: 'Search', method: 'GET', path: '/search/play-youtube', desc: 'Play YT Audio', params: [{n:'query', r:true}] },
            { cat: 'Search', method: 'GET', path: '/search/tiktok', desc: 'TikTok Search', params: [{n:'query', r:true}] },
            { cat: 'Search', method: 'GET', path: '/search/wikipedia', desc: 'Wiki Indo', params: [{n:'query', r:true}] },
            { cat: 'Search', method: 'GET', path: '/search/apple-music', desc: 'Apple Music', params: [{n:'keyword', r:true}] },

            // --- MAKER ---
            { cat: 'Maker', method: 'GET', path: '/maker/brat', desc: 'Brat Generator', params: [{n:'text', r:true}] },
            { cat: 'Maker', method: 'GET', path: '/maker/fake-iphone-chat', desc: 'Fake iMessage', params: [{n:'text'}, {n:'chatime'}, {n:'statusbartime'}] },
            { cat: 'Maker', method: 'GET', path: '/maker/fake-call', desc: 'Fake Call UI', params: [{n:'nama'}, {n:'durasi'}, {n:'avatar'}] },
            { cat: 'Maker', method: 'GET', path: '/maker/fake-story', desc: 'Fake IG Story', params: [{n:'username'}, {n:'caption'}, {n:'ppurl'}] },
            { cat: 'Maker', method: 'GET', path: '/maker/fake-tweet', desc: 'Fake Twitter', params: [{n:'username'}, {n:'tweet'}, {n:'name'}] },
            { cat: 'Maker', method: 'GET', path: '/maker/meme', desc: 'Meme Gen', params: [{n:'imageUrl'}, {n:'topText'}, {n:'bottomText'}] },
            { cat: 'Maker', method: 'GET', path: '/maker/carbon', desc: 'Code to Image', params: [{n:'input'}, {n:'title'}] },
            { cat: 'Maker', method: 'GET', path: '/maker/ttp', desc: 'Text to Picture', params: [{n:'text'}] },
            { cat: 'Maker', method: 'POST', path: '/maker/fake-ml', desc: 'Fake ML Lobby', params: [{n:'image', t:'file'}, {n:'username'}] },
            { cat: 'Maker', method: 'POST', path: '/maker/fake-story-v2', desc: 'Fake Story Custom', params: [{n:'profile_image', t:'file'}, {n:'content_image', t:'file'}, {n:'name'}] },
            { cat: 'Maker', method: 'POST', path: '/maker/mpls-twibbon', desc: 'MPLS Twibbon', params: [{n:'file', t:'file'}] },

            // --- RANDOM ---
            { cat: 'Random', method: 'GET', path: '/random/indonesia', desc: 'Random Indo Girl', params: [] },
            { cat: 'Random', method: 'GET', path: '/random/china', desc: 'Random China Girl', params: [] },
            { cat: 'Random', method: 'GET', path: '/random/blue-archive', desc: 'Random Blue Archive', params: [] }
        ];

        // === RENDER ENGINE ===
        function renderCards(filter = "") {
            const grid = document.getElementById('api-grid');
            grid.innerHTML = "";
            
            endpoints.forEach((ep, index) => {
                if (filter && !ep.path.includes(filter) && !ep.desc.toLowerCase().includes(filter)) return;

                const cardId = `ep-${index}`;
                let inputsHtml = "";
                
                ep.params.forEach(p => {
                    if (p.t === 'file') {
                        inputsHtml += `<input type="file" id="${cardId}-${p.n}" class="w-full text-xs p-2 rounded mb-2 bg-black/50 border border-white/10 text-gray-400 file:mr-4 file:py-1 file:px-2 file:rounded-full file:border-0 file:text-xs file:bg-white/10 file:text-white hover:file:bg-white/20">`;
                    } else {
                        inputsHtml += `<input type="text" id="${cardId}-${p.n}" placeholder="${p.n}${p.r ? '*' : ''} ${p.d ? '('+p.d+')' : ''}" class="w-full text-sm px-3 py-2 rounded-lg bg-black/50 border border-white/10 mb-2 focus:border-white/30">`;
                    }
                });

                const badgeColor = ep.method === 'GET' ? 'text-green-400 bg-green-900/20' : 'text-yellow-400 bg-yellow-900/20';

                const html = `
                <div class="glass rounded-2xl p-6 flex flex-col h-full">
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex items-center gap-3">
                            <span class="px-2 py-1 rounded text-[10px] font-bold tracking-wider ${badgeColor}">${ep.method}</span>
                            <span class="text-xs font-mono text-gray-500">${ep.cat}</span>
                        </div>
                    </div>
                    <h3 class="font-bold text-lg mb-1">${ep.desc}</h3>
                    <code class="text-xs text-gray-500 font-mono mb-4 block">${ep.path}</code>
                    
                    <div class="flex-grow">
                        ${inputsHtml}
                    </div>

                    <div class="mt-4">
                        <button onclick="executeAPI(${index})" class="w-full py-2 bg-white text-black font-semibold rounded-lg hover:bg-gray-200 transition-colors text-sm">
                            Execute
                        </button>
                    </div>

                    <div id="${cardId}-result" class="mt-4 hidden">
                        <div class="terminal rounded-lg overflow-hidden">
                            <div class="bg-[#1a1a1a] px-3 py-1 text-[10px] text-gray-500 border-b border-[#222] flex justify-between">
                                <span>OUTPUT</span>
                                <span id="${cardId}-time">0ms</span>
                            </div>
                            <pre class="p-3 overflow-auto max-h-40"><code id="${cardId}-code" class="language-json"></code></pre>
                        </div>
                    </div>
                </div>
                `;
                grid.innerHTML += html;
            });
        }

        // === EXECUTION ENGINE ===
        async function executeAPI(index) {
            const ep = endpoints[index];
            const cardId = `ep-${index}`;
            const btn = document.querySelector(`button[onclick="executeAPI(${index})"]`);
            const resDiv = document.getElementById(`${cardId}-result`);
            const codeBlock = document.getElementById(`${cardId}-code`);
            const timeLabel = document.getElementById(`${cardId}-time`);

            btn.innerText = "Processing...";
            btn.disabled = true;
            resDiv.classList.remove('hidden');
            codeBlock.innerText = "Requesting...";

            const startTime = performance.now();

            try {
                let url = window.location.origin + ep.path;
                let options = { method: ep.method };

                if (ep.method === 'GET') {
                    const params = new URLSearchParams();
                    ep.params.forEach(p => {
                        const val = document.getElementById(`${cardId}-${p.n}`).value;
                        if (val) params.append(p.n, val);
                    });
                    url += "?" + params.toString();
                } else {
                    const formData = new FormData();
                    for (const p of ep.params) {
                        const el = document.getElementById(`${cardId}-${p.n}`);
                        if (p.t === 'file') {
                            if (el.files[0]) formData.append(p.n, el.files[0]);
                        } else {
                            if (el.value) formData.append(p.n, el.value);
                        }
                    }
                    options.body = formData;
                }

                const res = await fetch(url, options);
                const contentType = res.headers.get("content-type");
                const endTime = performance.now();
                timeLabel.innerText = `${(endTime - startTime).toFixed(0)}ms`;

                if (contentType && contentType.includes("application/json")) {
                    const json = await res.json();
                    codeBlock.innerHTML = JSON.stringify(json, null, 2);
                    hljs.highlightElement(codeBlock);
                } else {
                    // Handle Binary/Image
                    const blob = await res.blob();
                    const imgUrl = URL.createObjectURL(blob);
                    codeBlock.innerHTML = `<a href="${imgUrl}" target="_blank" class="text-blue-400 hover:underline">Download Binary Result</a><br><img src="${imgUrl}" class="mt-2 rounded border border-gray-700 max-h-32">`;
                }

            } catch (err) {
                codeBlock.innerText = "Error: " + err.message;
                codeBlock.classList.add("text-red-400");
            } finally {
                btn.innerText = "Execute";
                btn.disabled = false;
            }
        }

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            renderCards();
            document.getElementById('searchBar').addEventListener('input', (e) => {
                renderCards(e.target.value.toLowerCase());
            });
        });
    </script>
</body>
</html>
